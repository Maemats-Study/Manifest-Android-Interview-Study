# Q) 58. Baseline Profile은 앱의 성능에 어떤 이점을 가져다주나요?

Baseline Profiles 는 앱 시작 시간과 런타임 실행을 최적하기 위한 안드로이드 앱 성능 향상을 위한 플러그인

미리 컴파일된 코드 정보를 제공함으로써 코드 해석 및 just-in-time (JIT) 컴파일 단계를 우회하고
더 빠른 앱 실행을 가능하게 합니다.

우선적으로 앱의 첫 실행에 대해 20~30% 속도 향상을 기대할 수 있고, 더 부드럽고 효율적인
사용자 경험을 제공 할 수 있습니다. Android Runtime(ART) 는 이러한 프로파일을 사용해
앱 설치 중 중요한 코드 경로를 식별하고 미리 컴파일하여 응답성을 개선하고 앱 시작 지연 시간을 줄입니다.

AGP 8.0 이상부터 Baseline Profile Gradle 플러그인을 활용할 수 있습니다.
- Baseline Profiles 생성 간소화
- 패키지 필터링 옵션 제공
- 플레이버 컨트롤(앱 향상시키는 과정)
- 모듈 내 /src/main/generated/baselineProfiles/baseline-prof.txt 생성

[Baseline Profile Gradle 링크](https://mvnrepository.com/artifact/androidx.benchmark/benchmark-baseline-profile-gradle-plugin?repo=google)

### Baseline Profiles 작동 방식
1. 중요한 코드 경로 정의:<br/>
주요 실행 경로를 프로파일링하거나 애플리케이션 시작 순간부터 가장 일반적인 사용자의
앱 사용 패턴 기반으로 성능에 중요한 메서드 및 클래스를 미리 정의
2. 프로파일 생성:<br/>
profile 은 Jetpack Macrobenchmark 라이브러리와 같은 도구를 사용해 생성합니다.
이를 통해 앱 동작을 기록하고 테스트하여 중요한 코드 경로를 식별할 수 있습니다.
3. 프로파일 전파:<br/>
Baseline Profile 은 APK 또는 AAB 와 함께 번들로 제공되어 최종 사용자에게 전파되어 배포됩니다.
4. 설치 중 최적화<br/>
앱이 사용자 기기에 설치될 때 ART 프로파일을 사용해 미리 정의해 둔 메서드 및 클래스를 네이티브 코드로 미리 컴파일 합니다.

### 실전 질문
Q) Baseline Profiles를 활용하면 Android Runtime (ART)이 앱 성능을 어떻게 개선시키고,
해당 접근 방식이 기존 Just‑In‑Time (JIT) 컴파일과 비교하여 가지는 성능적인 이점은 무엇인가요?


### 참고링크
https://haeti.palms.blog/baseline-profile
https://github.com/android/nowinandroid/tree/main/benchmarks/src/main/kotlin/com/google/samples/apps/nowinandroid
medium.com/proandroiddev/improve-your-android-app-performance-with-baseline-profiles-297f388082e6