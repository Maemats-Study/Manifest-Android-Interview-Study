# Q) 19. derivedStateOf가 필요한 시나리오는 무엇이고, recomposition 최적화에 어떻게 도움이 되나요?

중요 요점

원활한 성능을 보장하기 위해 derivedStateOf에 아주 무거운 연산식을 사용하지 않는 것이 좋습니다. 오히려 해당 계산을 통한 오버헤드가 recomposition을 통해 UI를 업데이트하는 비용보다 더 크면 성능에 역효과가 날 수 있습니다.

연산식 이 복잡해짐 → 매번 계산해서 비교하는 구조

단순 리컴포지션 → 값 변경시 새로 그림

### 실전 질문

Q) 어떤 시나리오에서 derivedStateOf를 사용하는 것이 효과적인가요?
혹은 어떤 시나리오에서 derivedStateOf를 사용하지 말아야 하나요?

`derivedStateOf`는 여러 state로부터 파생되는 값을 만들 때, 그 값이 자주 읽히지만 실제 변경은 드문 경우에 효과적입니다. 예를 들어 스크롤 상태로부터 “바닥 도달 여부” 같은 Boolean을 만들면 불필요한 recomposition을 줄일 수 있습니다. 반대로 정렬·그룹핑처럼 무거운 연산을 `derivedStateOf`에 넣으면 의존 state 변화마다 재계산되어 오버헤드가 커질 수 있어, ViewModel에서 미리 계산하거나 백그라운드에서 처리하는 방식이 더 적합합니다.

--> 추가 조사 필요(아티클)