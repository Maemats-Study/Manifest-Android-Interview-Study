# Q) 22. 스냅샷 시스템(snapshot system)이란 무엇이며 어디에 사용하나요?

초기 값을 불러올때 사용

현재 상태의 읽기 전용 스냅샷을 생성하여 작업

```kotlin
class User {
    var name: MutableState<String> = mutableStateOf("")
}

fun main() {
    val user = User()
    
    // 초기 값 설정
    user.name.value = "seungjun"
    
    // 현재 상태 스냅샷 생성
    val snapshot = Snapshot.takeSnapshot()
    
    // 스냅샷 생성후 수정
    user.name.value = "android"
    
    println("${user.name.value}") // android
    
    snapshot.enter {
        // 스냅샷 상태 접근
        println("${user.name.value}") // seungjun
    }
    
    // 스냅샷 리소스 해제
    snapshot.dispose()
}
```

가변 스냅샷 생성은 `Snapshot.takeMutableSnapshot()` 으로 사용해 apply 로 전역 상태로 전파합니다.

- 즉시 반영하지 않고 상태 변경을 안전하게 테스트하기 위해.
- 실행 취소/다시 실행 기능과 같은 시나리오(가령, 텍스트 편집기와 같은)에서 임시적으로 상태 변화를 관리하기 위해.
- 상태에 대해 격리 및 유효성 검사가 필요한 시나리오.

### 실전 질문

Q) 컴포저블 함수에서 직접 상태를 관찰하는 것보다 스냅샷을 찍는것(Snapshot.takeSnapshot())이 선호되는 시나리오에 대해 설명해주세요.