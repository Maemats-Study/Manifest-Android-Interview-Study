## Q.33)View 생명주기를 설명해주세요

![/assets/view_lifecycle.png](assets/view_lifecycle.png)
안드로이드에서 View 생명주기(Lifecycle) 는 View(가령, TextView 또는 Button 등)가 생성되고, Activity나 Fragment에 연결되고, 화면에 표시 되고, 최종적으로 소멸되거나 분리되는 동안 거치는 생명주기 이벤트를 나타냅니다. View 생명주기를 이해하면 개발자가 View의 초기화, 렌더링 및 소멸을 관리하고, 사용자 작업 또는 시스템 이벤트에 응답하여 View 생명주기에 따라 커스텀 뷰를 구현하며, 적절한 시점에 리소스를
폐기하는 데 도움이 됩니다.

1. View 생성 (onAttachedToWindow): View가 하드 코딩 방식으로 인스턴
스화되거나 XML 레이아웃에서 인플레이션되는 단계입니다. 리스너설정 및 데이터 바인딩과 같은 초기 설정 작업이 여기서 수행됩니다. onAttachedToWindow() 메서드는 View가 부모 뷰에 추가되고
화면 렌더링을 할 준비를 마쳤을 때 트리거됩니다.

2.  Layout 단계 (onMeasure, onLayout): 이 단계에서는 View의 크기와 위치를 측정합니다. onMeasure() 메서드는 레이아웃 매개변수와부모 제약 조건에 따라 View의 너비와 높이를 결정합니다. 측정된 후 onLayout() 메서드는 View를 부모 내에 배치하여 화면에 표시될
위치를 최종 결정합니다.

3.  Drawing 단계 (onDraw): 크기와 위치가 최종 결정된 후 onDraw() 메서드는 텍스트나 이미지와 같은 View의 내용을 Canvas65에 렌더링 합니다. 커스텀 View는 해당 메서드를 재정의하여 커스텀
드로잉 로직을 구현할 수 있습니다.

4.  Event 처리 (onTouchEvent, onClick): 상호 작용하는 View는 이 단계에서 터치 이벤트, 클릭, 제스처와 같은 사용자 상호 작용을 처리합니다. onTouchEvent() 및 onClick()과 같은 메서드는 이러한 이벤트를 처리하고 사용자 입력에 대한 View의 응답을 정의하는데 사용됩니다.

5.  View 분리 (onDetachedFromWindow): View가 화면과 부모 ViewGroup에서 제거될 때(가령, Activity 또는 Fragment가 소멸 중일 때), onDetachedFromWindow() 메서드가 호출됩니다. 이 단계는 리소스를 정리하거나 리스너를 분리하는 데 이상적입니다.

6.  View 소멸: View가 더 이상 사용되지 않으면 가비지 컬렉션됩니다. 개발자는 메모리 누수를 방지하고 성능을 최적화하기 위해 이벤트 리스너나 백그라운드 작업과 같은 모든 리소스가 적절하게 해제되
었는지 확인해야 합니다

lIfecucleObserver 인스턴스를 바인딩해야 하는 커스텀 View를 떠올려봅시다. findViewTreeLifecycleOwner() 를 사용하면 관찰을 올바른 생명주기에 시작할 수 있습니다.

주요 사용 사례

1. 커스텀 뷰(Custom Views): 커스텀 View 내의 생명주기 인식 (lifecycle‑aware, 생명주기와 연결되어 생명주기의 변화에 따라 동작이 결정되는) 컴포넌트가 LifecycleObserver, LiveData와 같은 생명주기 관찰자를 관찰하거나 리소스를 관리할 수있도록합니다.
2. 서드파티 라이브러리(Third‑Party Libraries): 재사용 가능한 UI 컴포넌트가 명시적인 생명주기 관리 없이 생명주기 인식 리소스와 상호 작용할 수 있도록 합니다.
3. 로직 결합도 분리(Decoupling Logic): View가 View 트리에서 자체 LifecycleOwner를 독립적으로 획득하도록 하여 부모 클래스와의 결합도를 줄이는 데 도움이 됩니다